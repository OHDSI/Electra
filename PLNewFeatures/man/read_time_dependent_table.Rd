% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/read_time_dependent_tables.R
\name{read_time_dependent_table}
\alias{read_time_dependent_table}
\title{Read time dependent analysis tables from PostgreSQL with filtering}
\usage{
read_time_dependent_table(
  table_name,
  cohort_id = NULL,
  database_id = NULL,
  concept_id = NULL,
  postgres_conn = NULL,
  schema_name = "phenotype_library"
)
}
\arguments{
\item{table_name}{PostgreSQL table name to read from. Options:
\itemize{
\item "patient_eofup" - End of follow-up analysis
\item "patient_recruitment" - Patient recruitment analysis
\item "patient_x_time" - Patient count over time
\item "code_x_time" - Code frequency over time
}}

\item{cohort_id}{cohort identifier to filter by (optional)}

\item{database_id}{database identifier to filter by (optional)}

\item{concept_id}{concept identifier to filter by (only for code_x_time table, optional)}

\item{postgres_conn}{PostgreSQL connection object (optional, uses default if NULL)}

\item{schema_name}{PostgreSQL schema name (default: "phenotype_library")}
}
\value{
data.table with filtered results
}
\description{
Read time dependent analysis tables from PostgreSQL database
with filtering by cohort_id and database_id. This function provides a unified
interface to retrieve data from the four main time dependent analysis tables.
}
\details{
\subsection{Required packages}{
\itemize{
\item data.table
\item DBI
}
}

\subsection{Table Structure}{

All tables include the following columns:
\itemize{
\item year_month: Date of the time period
\item total_count: Count for that time period
\item cohort_id: Cohort identifier
\item database_id: Database identifier
\item concept_id: Concept identifier (only for code_x_time table)
}
}
}
\examples{
\dontrun{
# Read all patient recruitment data
recruitment_data <- read_time_dependent_table("patient_recruitment")

# Read patient recruitment for specific cohort and database
recruitment_data <- read_time_dependent_table("patient_recruitment", 
                                              cohort_id = 123, 
                                              database_id = "optum_ehr")

# Read code frequency for specific concept
code_data <- read_time_dependent_table("code_x_time", 
                                      cohort_id = 123, 
                                      database_id = "optum_ehr",
                                      concept_id = 456)
}

}
\seealso{
Other time_dependent_analysis: 
\code{\link{code_x_time}()},
\code{\link{get_time_dependent_analysis_output_table_names}()},
\code{\link{patient_eofup}()},
\code{\link{patient_recruitment}()},
\code{\link{patient_x_time}()},
\code{\link{plot_counts}()},
\code{\link{plotly_counts}()},
\code{\link{read_all_time_dependent_tables}()},
\code{\link{time_dependent_analysis}()}
}
\author{
Luisa MartÃ­nez (08APR2025)
}
\concept{time_dependent_analysis}
