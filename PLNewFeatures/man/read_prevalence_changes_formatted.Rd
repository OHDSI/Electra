% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/read_prevalence_changes.R
\name{read_prevalence_changes_formatted}
\alias{read_prevalence_changes_formatted}
\title{Read prevalence changes data and format for display}
\usage{
read_prevalence_changes_formatted(
  cohort_id,
  database_id,
  postgres_conn = NULL,
  schema_name = "phenotype_library",
  table_name = "prevalence_changes"
)
}
\arguments{
\item{cohort_id}{cohort identifier to filter by}

\item{database_id}{database identifier to filter by}

\item{postgres_conn}{PostgreSQL connection object (optional, uses default if NULL)}

\item{schema_name}{PostgreSQL schema name (default: "phenotype_library")}

\item{table_name}{PostgreSQL table name (default: "prevalence_changes")}
}
\value{
data.table formatted for display with original column names
}
\description{
Read prevalence changes data from PostgreSQL and format it
for display in the Shiny application, matching the original format.
}
\details{
\subsection{Required packages}{
\itemize{
\item data.table
\item DBI
}
}

\subsection{Output Format}{

Returns a data.table with the following columns (matching original format):
\itemize{
\item Concept id: Concept identifier
\item Concept Name: Concept name
\item Domain: Domain
\item Proportion within the cohort (Pc): Proportion within the cohort
\item Proportion within the total population (Pt): Proportion within the total population
\item Pc/Pt: Ratio of proportions
}
}
}
\examples{
\dontrun{
# Read and format prevalence changes data for display
formatted_data <- read_prevalence_changes_formatted(cohort_id = 123, 
                                                   database_id = "optum_ehr")
}

}
\seealso{
Other prevalence_changes_analysis: 
\code{\link{get_prevalence_changes_analysis_output_table_names}()},
\code{\link{prevalence_changes_analysis}()},
\code{\link{read_prevalence_changes}()}
}
\author{
Luisa MartÃ­nez (08APR2025)
}
\concept{prevalence_changes_analysis}
