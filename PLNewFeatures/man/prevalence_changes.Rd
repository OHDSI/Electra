% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/prevalence_changes.R
\name{prevalence_changes}
\alias{prevalence_changes}
\title{Prevalence changes between the cohort and the general population for the most
frequent codes}
\usage{
prevalence_changes(
  cohort_id,
  scratch,
  cdm_schema,
  concept_sets,
  conn,
  postgres_conn = NULL,
  postgres_table_name = NULL,
  database_id = NULL,
  schema_name = "phenotype_library"
)
}
\arguments{
\item{cohort_id}{atlas cohort id of the phenotype to be evaluated}

\item{scratch}{scratch space where the cohort is available}

\item{cdm_schema}{cdm schema name from the dataset}

\item{concept_sets}{concepts from the concept set with at least the following
columns (Id = concept_id, Name = concept_name, Domain = as retrieved from ATLAS)}

\item{conn}{database connection for querying data}

\item{postgres_conn}{PostgreSQL connection for saving results (optional)}

\item{postgres_table_name}{PostgreSQL table name for saving results (optional)}

\item{database_id}{database identifier for the analysis (optional)}

\item{schema_name}{PostgreSQL schema name (default: "phenotype_library")}
}
\description{
Create a table with the codes that has at least a prevalence
change of 5. The table includes codes from all the domains (Concept id,
Concept Name, Domain), the proportion of the code within the whole population,
the proportion of the code within the cohort and the prevalence change result.
The function also saves the results to PostgreSQL database.
}
\details{
\subsection{Required packages}{
\itemize{
\item data.table
\item dplyr
}
}

\subsection{Required functions}{
\itemize{
\item table_freq_concepts
\item table_freq_spcf_concepts
}
}

\subsection{Other requirements}{
\itemize{
\item The connection to the dataset will have to be created before running the function.
}
}
}
\author{
Luisa Mart√≠nez (15SEP2024)
}
